var $window=$(window);windowsize=$window.width(),$(document).ready(function(){windowsize>820&&($("#nav-fix").scrollToFixed(),$(".sub-nav").scrollToFixed({marginTop:function(){var e=$(window).height()-$(".sub-nav").outerHeight(!0)-100;return e>=0?100:e}}))}),function(){"use strict";for(var e=document.querySelectorAll(".cmn-toggle-switch"),t=e.length-1;t>=0;t--){var n=e[t];n.addEventListener("click",function(e){e.preventDefault(),!0===this.classList.contains("active")?this.classList.remove("active"):this.classList.add("active")})}}(),$(document).ready(function(e){$("img[usemap]").rwdImageMaps()}),$(document).ready(function(){$("#sortable").tablesorter()}),$(document).ready(function(){$("a.gallery").featherlightGallery({previousIcon:"&#9668;",nextIcon:"&#9658;",galleryFadeIn:300,openSpeed:300})}),function(e){e.isScrollToFixed=function(t){return!!e(t).data("ScrollToFixed")},e.ScrollToFixed=function(t,n){function r(){var e=h.options.limit;return e?"function"==typeof e?e.apply(b):e:0}function o(){return"fixed"===g}function i(){return"absolute"===g}function s(){return!(o()||i())}function a(){o()||(F.css({display:b.css("display"),width:b.outerWidth(!0),height:b.outerHeight(!0),float:b.css("float")}),cssOptions={"z-index":h.options.zIndex,position:"fixed",top:-1==h.options.bottom?u():"",bottom:-1==h.options.bottom?"":h.options.bottom,"margin-left":"0px"},h.options.dontSetWidth||(cssOptions.width=b.width()),b.css(cssOptions),b.addClass(h.options.baseClassName),h.options.className&&b.addClass(h.options.className),g="fixed")}function c(){var e=r(),t=T;h.options.removeOffsets&&(t="",e-=y),cssOptions={position:"absolute",top:e,left:t,"margin-left":"0px",bottom:""},h.options.dontSetWidth||(cssOptions.width=b.width()),b.css(cssOptions),g="absolute"}function d(){s()||(C=-1,F.css("display","none"),b.css({"z-index":v,width:"",position:m,left:"",top:x,"margin-left":""}),b.removeClass("scroll-to-fixed-fixed"),h.options.className&&b.removeClass(h.options.className),g=null)}function l(e){e!=C&&(b.css("left",T-e),C=e)}function u(){var e=h.options.marginTop;return e?"function"==typeof e?e.apply(b):e:0}function f(){if(e.isScrollToFixed(b)){var t=w;w?s()&&(y=b.offset().top,T=b.offset().left):(b.trigger("preUnfixed.ScrollToFixed"),d(),b.trigger("unfixed.ScrollToFixed"),C=-1,y=b.offset().top,T=b.offset().left,h.options.offsets&&(T+=b.offset().left-b.position().left),-1==$&&($=T),g=b.css("position"),w=!0,-1!=h.options.bottom&&(b.trigger("preFixed.ScrollToFixed"),a(),b.trigger("fixed.ScrollToFixed")));var n=e(window).scrollLeft(),f=e(window).scrollTop(),x=r();h.options.minWidth&&e(window).width()<h.options.minWidth?s()&&t||(p(),b.trigger("preUnfixed.ScrollToFixed"),d(),b.trigger("unfixed.ScrollToFixed")):h.options.maxWidth&&e(window).width()>h.options.maxWidth?s()&&t||(p(),b.trigger("preUnfixed.ScrollToFixed"),d(),b.trigger("unfixed.ScrollToFixed")):-1==h.options.bottom?x>0&&f>=x-u()?i()&&t||(p(),b.trigger("preAbsolute.ScrollToFixed"),c(),b.trigger("unfixed.ScrollToFixed")):f>=y-u()?(o()&&t||(p(),b.trigger("preFixed.ScrollToFixed"),a(),C=-1,b.trigger("fixed.ScrollToFixed")),l(n)):s()&&t||(p(),b.trigger("preUnfixed.ScrollToFixed"),d(),b.trigger("unfixed.ScrollToFixed")):x>0?f+e(window).height()-b.outerHeight(!0)>=x-(u()||-(h.options.bottom?h.options.bottom:0))?o()&&(p(),b.trigger("preUnfixed.ScrollToFixed"),"absolute"===m?c():d(),b.trigger("unfixed.ScrollToFixed")):(o()||(p(),b.trigger("preFixed.ScrollToFixed"),a()),l(n),b.trigger("fixed.ScrollToFixed")):l(n)}}function p(){var e=b.css("position");"absolute"==e?b.trigger("postAbsolute.ScrollToFixed"):"fixed"==e?b.trigger("postFixed.ScrollToFixed"):b.trigger("postUnfixed.ScrollToFixed")}var h=this;h.$el=e(t),h.el=t,h.$el.data("ScrollToFixed",h);var g,m,x,v,w=!1,b=h.$el,y=0,T=0,$=-1,C=-1,F=null,S=function(e){b.is(":visible")&&(w=!1,f())},I=function(e){window.requestAnimationFrame?requestAnimationFrame(f):f()};h.init=function(){h.options=e.extend({},e.ScrollToFixed.defaultOptions,n),v=b.css("z-index"),h.$el.css("z-index",h.options.zIndex),F=e("<div />"),g=b.css("position"),m=b.css("position"),x=b.css("top"),s()&&h.$el.after(F),e(window).bind("resize.ScrollToFixed",S),e(window).bind("scroll.ScrollToFixed",I),"ontouchmove"in window&&e(window).bind("touchmove.ScrollToFixed",f),h.options.preFixed&&b.bind("preFixed.ScrollToFixed",h.options.preFixed),h.options.postFixed&&b.bind("postFixed.ScrollToFixed",h.options.postFixed),h.options.preUnfixed&&b.bind("preUnfixed.ScrollToFixed",h.options.preUnfixed),h.options.postUnfixed&&b.bind("postUnfixed.ScrollToFixed",h.options.postUnfixed),h.options.preAbsolute&&b.bind("preAbsolute.ScrollToFixed",h.options.preAbsolute),h.options.postAbsolute&&b.bind("postAbsolute.ScrollToFixed",h.options.postAbsolute),h.options.fixed&&b.bind("fixed.ScrollToFixed",h.options.fixed),h.options.unfixed&&b.bind("unfixed.ScrollToFixed",h.options.unfixed),h.options.spacerClass&&F.addClass(h.options.spacerClass),b.bind("resize.ScrollToFixed",function(){F.height(b.height())}),b.bind("scroll.ScrollToFixed",function(){b.trigger("preUnfixed.ScrollToFixed"),d(),b.trigger("unfixed.ScrollToFixed"),f()}),b.bind("detach.ScrollToFixed",function(t){var n;(n=(n=t)||window.event).preventDefault&&n.preventDefault(),n.returnValue=!1,b.trigger("preUnfixed.ScrollToFixed"),d(),b.trigger("unfixed.ScrollToFixed"),e(window).unbind("resize.ScrollToFixed",S),e(window).unbind("scroll.ScrollToFixed",I),b.unbind(".ScrollToFixed"),F.remove(),h.$el.removeData("ScrollToFixed")}),S()},h.init()},e.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},e.fn.scrollToFixed=function(t){return this.each(function(){new e.ScrollToFixed(this,t)})}}(jQuery),$(function(){function e(){o.toggleClass(d),r.toggleClass(c),i.toggleClass(l),s.toggleClass(u)}function t(){o.addClass(d),r.animate({left:"0px"},p),i.animate({left:h},p),s.animate({left:h},p)}function n(){o.removeClass(d),r.animate({left:"-"+h},p),i.animate({left:"0px"},p),s.animate({left:"0px"},p)}var r=$(".pushy"),o=$("body"),i=$("#push-wrap"),s=$(".push"),a=$(".site-overlay"),c="pushy-right pushy-open",d="pushy-active",l="container-push",u="push-push",f=$(".menu-btn, .pushy a"),p=200,h=r.width()+"px";if(cssTransforms3d=function(){var e=document.createElement("p"),t=!1,n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(e,null);for(var r in n)void 0!==e.style[r]&&(e.style[r]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(n[r]));return document.body.removeChild(e),void 0!==t&&t.length>0&&"none"!==t}(),cssTransforms3d)f.click(function(){e()}),a.click(function(){e()});else{r.css({left:"-"+h}),i.css({"overflow-x":"hidden"});var g=!0;f.click(function(){g?(t(),g=!1):(n(),g=!0)}),a.click(function(){g?(t(),g=!1):(n(),g=!0)})}}),function(e){e.fn.rwdImageMaps=function(){var t=this;return e(window).resize(function(){t.each(function(){if(void 0!==e(this).attr("usemap")){var t=e(this);e("<img />").load(function(){var n=t.attr("width"),r=t.attr("height");if(!n||!r){var o=new Image;o.src=t.attr("src"),n||(n=o.width),r||(r=o.height)}var i=t.width()/100,s=t.height()/100,a=t.attr("usemap").replace("#",""),c="coords";e('map[name="'+a+'"]').find("area").each(function(){var t=e(this);t.data(c)||t.data(c,t.attr(c));for(var o=t.data(c).split(","),a=new Array(o.length),d=0;d<a.length;++d)a[d]=d%2==0?parseInt(o[d]/n*100*i):parseInt(o[d]/r*100*s);t.attr(c,a.toString())})}).attr("src",t.attr("src"))}})}).trigger("resize"),this}}(jQuery),function($){$.extend({tablesorter:new function(){function benchmark(e,t){log(e+","+((new Date).getTime()-t.getTime())+"ms")}function log(e){"undefined"!=typeof console&&void 0!==console.debug?console.log(e):alert(e)}function buildParserCache(e,t){if(e.config.debug)var n="";if(0!=e.tBodies.length){var r=e.tBodies[0].rows;if(r[0])for(var o=[],i=r[0].cells,s=i.length,a=0;s>a;a++){var c=!1;$.metadata&&$(t[a]).metadata()&&$(t[a]).metadata().sorter?c=getParserById($(t[a]).metadata().sorter):e.config.headers[a]&&e.config.headers[a].sorter&&(c=getParserById(e.config.headers[a].sorter)),c||(c=detectParserForColumn(e,r,-1,a)),e.config.debug&&(n+="column:"+a+" parser:"+c.id+"\n"),o.push(c)}return e.config.debug&&log(n),o}}function detectParserForColumn(e,t,n,r){for(var o=parsers.length,i=!1,s=!1,a=!0;""==s&&a;)n++,t[n]?(i=getNodeFromRowAndCellIndex(t,n,r),s=trimAndGetNodeText(e.config,i),e.config.debug&&log("Checking if value was empty on row:"+n)):a=!1;for(var c=1;o>c;c++)if(parsers[c].is(s,e,i))return parsers[c];return parsers[0]}function getNodeFromRowAndCellIndex(e,t,n){return e[t].cells[n]}function trimAndGetNodeText(e,t){return $.trim(getElementText(e,t))}function getParserById(e){for(var t=parsers.length,n=0;t>n;n++)if(parsers[n].id.toLowerCase()==e.toLowerCase())return parsers[n];return!1}function buildCache(e){if(e.config.debug)var t=new Date;for(var n=e.tBodies[0]&&e.tBodies[0].rows.length||0,r=e.tBodies[0].rows[0]&&e.tBodies[0].rows[0].cells.length||0,o=e.config.parsers,i={row:[],normalized:[]},s=0;n>s;++s){var a=$(e.tBodies[0].rows[s]),c=[];if(a.hasClass(e.config.cssChildRow))i.row[i.row.length-1]=i.row[i.row.length-1].add(a);else{i.row.push(a);for(var d=0;r>d;++d)c.push(o[d].format(getElementText(e.config,a[0].cells[d]),e,a[0].cells[d]));c.push(i.normalized.length),i.normalized.push(c),c=null}}return e.config.debug&&benchmark("Building cache for "+n+" rows:",t),i}function getElementText(e,t){return t?(e.supportsTextContent||(e.supportsTextContent=t.textContent||!1),"simple"==e.textExtraction?e.supportsTextContent?t.textContent:t.childNodes[0]&&t.childNodes[0].hasChildNodes()?t.childNodes[0].innerHTML:t.innerHTML:"function"==typeof e.textExtraction?e.textExtraction(t):$(t).text()):""}function appendToTable(e,t){if(e.config.debug)var n=new Date;for(var r=t,o=r.row,i=r.normalized,s=i.length,a=i[0].length-1,c=$(e.tBodies[0]),d=[],l=0;s>l;l++){var u=i[l][a];if(d.push(o[u]),!e.config.appender)for(var f=o[u].length,p=0;f>p;p++)c[0].appendChild(o[u][p])}e.config.appender&&e.config.appender(e,d),d=null,e.config.debug&&benchmark("Rebuilt table:",n),applyWidget(e),setTimeout(function(){$(e).trigger("sortEnd")},0)}function buildHeaders(e){if(e.config.debug)var t=new Date;var n=($.metadata,computeTableHeaderCellIndexes(e));return $tableHeaders=$(e.config.selectorHeaders,e).each(function(t){if(this.column=n[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(e.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(e,t))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(e,t)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(e,t)),!this.sortDisabled){var r=$(this).addClass(e.config.cssHeader);e.config.onRenderHeader&&e.config.onRenderHeader.apply(r)}e.config.headerList[t]=this}),e.config.debug&&(benchmark("Built headers:",t),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(e){for(var t=[],n={},r=e.getElementsByTagName("THEAD")[0].getElementsByTagName("TR"),o=0;o<r.length;o++)for(var i=r[o].cells,s=0;s<i.length;s++){var a,c=i[s],d=c.parentNode.rowIndex,l=d+"-"+c.cellIndex,u=c.rowSpan||1,f=c.colSpan||1;void 0===t[d]&&(t[d]=[]);for(var p=0;p<t[d].length+1;p++)if(void 0===t[d][p]){a=p;break}n[l]=a;for(p=d;d+u>p;p++){void 0===t[p]&&(t[p]=[]);for(var h=t[p],g=a;a+f>g;g++)h[g]="x"}}return n}function checkCellColSpan(e,t,n){for(var r=[],o=e.tHead.rows,i=o[n].cells,s=0;s<i.length;s++){var a=i[s];a.colSpan>1?r=r.concat(checkCellColSpan(e,headerArr,n++)):(1==e.tHead.length||a.rowSpan>1||!o[n+1])&&r.push(a)}return r}function checkHeaderMetadata(e){return!(!$.metadata||!1!==$(e).metadata().sorter)}function checkHeaderOptions(e,t){return!(!e.config.headers[t]||!1!==e.config.headers[t].sorter)}function checkHeaderOptionsSortingLocked(e,t){return!(!e.config.headers[t]||!e.config.headers[t].lockedOrder)&&e.config.headers[t].lockedOrder}function applyWidget(e){for(var t=e.config.widgets,n=t.length,r=0;n>r;r++)getWidgetById(t[r]).format(e)}function getWidgetById(e){for(var t=widgets.length,n=0;t>n;n++)if(widgets[n].id.toLowerCase()==e.toLowerCase())return widgets[n]}function formatSortingOrder(e){return"Number"!=typeof e?"desc"==e.toLowerCase()?1:0:1==e?1:0}function isValueInArray(e,t){for(var n=t.length,r=0;n>r;r++)if(t[r][0]==e)return!0;return!1}function setHeadersCss(e,t,n,r){t.removeClass(r[0]).removeClass(r[1]);var o=[];t.each(function(e){this.sortDisabled||(o[this.column]=$(this))});for(var i=n.length,s=0;i>s;s++)o[n[s][0]].addClass(r[n[s][1]])}function fixColumnWidth(e,t){if(e.config.widthFixed){var n=$("<colgroup>");$("tr:first td",e.tBodies[0]).each(function(){n.append($("<col>").css("width",$(this).width()))}),$(e).prepend(n)}}function updateHeaderSortCount(e,t){for(var n=e.config,r=t.length,o=0;r>o;o++){var i=t[o],s=n.headerList[i[0]];s.count=i[1],s.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;for(var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;l>i;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==table.config.parsers[c].type?makeSortFunction("text",0==order?"asc":"desc",c):makeSortFunction("numeric",0==order?"asc":"desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;l>i;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(e,t,n){var r="a["+n+"]",o="b["+n+"]";return"text"==e&&"asc"==t?"("+r+" == "+o+" ? 0 : ("+r+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : ("+r+" < "+o+") ? -1 : 1 )));":"text"==e&&"desc"==t?"("+r+" == "+o+" ? 0 : ("+r+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : ("+o+" < "+r+") ? -1 : 1 )));":"numeric"==e&&"asc"==t?"("+r+" === null && "+o+" === null) ? 0 :("+r+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : "+r+" - "+o+"));":"numeric"==e&&"desc"==t?"("+r+" === null && "+o+" === null) ? 0 :("+r+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : "+o+" - "+r+"));":void 0}function makeSortText(e){return"((a["+e+"] < b["+e+"]) ? -1 : ((a["+e+"] > b["+e+"]) ? 1 : 0));"}function makeSortTextDesc(e){return"((b["+e+"] < a["+e+"]) ? -1 : ((b["+e+"] > a["+e+"]) ? 1 : 0));"}function makeSortNumeric(e){return"a["+e+"]-b["+e+"];"}function makeSortNumericDesc(e){return"b["+e+"]-a["+e+"];"}function sortText(e,t){return table.config.sortLocaleCompare?e.localeCompare(t):t>e?-1:e>t?1:0}function sortTextDesc(e,t){return table.config.sortLocaleCompare?t.localeCompare(e):e>t?-1:t>e?1:0}function sortNumeric(e,t){return e-t}function sortNumericDesc(e,t){return t-e}function getCachedSortType(e,t){return e[t].type}var parsers=[],widgets=[];this.defaults={cssHeader:"ts-header",cssAsc:"ts-headerSortUp",cssDesc:"ts-headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(e){return this.each(function(){if(this.tHead&&this.tBodies){var t,n,r,o;this.config={},o=$.extend(this.config,$.tablesorter.defaults,e),t=$(this),$.data(this,"tablesorter",o),n=buildHeaders(this),this.config.parsers=buildParserCache(this,n),r=buildCache(this);var i=[o.cssDesc,o.cssAsc];fixColumnWidth(this),n.click(function(e){var s=t[0].tBodies[0]&&t[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&s>0){t.trigger("sortStart");var a=($(this),this.column);if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),e[o.sortMultiSortKey])if(isValueInArray(a,o.sortList))for(var c=0;c<o.sortList.length;c++){var d=o.sortList[c],l=o.headerList[d[0]];d[0]==a&&(l.count=d[1],l.count++,d[1]=l.count%2)}else o.sortList.push([a,this.order]);else{if(o.sortList=[],null!=o.sortForce){var u=o.sortForce;for(c=0;c<u.length;c++)u[c][0]!=a&&o.sortList.push(u[c])}o.sortList.push([a,this.order])}return setTimeout(function(){setHeadersCss(t[0],n,o.sortList,i),appendToTable(t[0],multisort(t[0],o.sortList,r))},1),!1}}).mousedown(function(){return o.cancelSelection?(this.onselectstart=function(){return!1},!1):void 0}),t.bind("update",function(){var e=this;setTimeout(function(){e.config.parsers=buildParserCache(e,n),r=buildCache(e)},1)}).bind("updateCell",function(e,t){var n=this.config,o=[t.parentNode.rowIndex-1,t.cellIndex];r.normalized[o[0]][o[1]]=n.parsers[o[1]].format(getElementText(n,t),t)}).bind("sorton",function(e,t){$(this).trigger("sortStart"),o.sortList=t;var s=o.sortList;updateHeaderSortCount(this,s),setHeadersCss(this,n,s,i),appendToTable(this,multisort(this,s,r))}).bind("appendCache",function(){appendToTable(this,r)}).bind("applyWidgetId",function(e,t){getWidgetById(t).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(o.sortList=$(this).metadata().sortlist),o.sortList.length>0&&t.trigger("sorton",[o.sortList]),applyWidget(this)}})},this.addParser=function(e){for(var t=parsers.length,n=!0,r=0;t>r;r++)parsers[r].id.toLowerCase()==e.id.toLowerCase()&&(n=!1);n&&parsers.push(e)},this.addWidget=function(e){widgets.push(e)},this.formatFloat=function(e){var t=parseFloat(e);return isNaN(t)?0:t},this.formatInt=function(e){var t=parseInt(e);return isNaN(t)?0:t},this.isDigit=function(e,t){return/^[-+]?\d*$/.test($.trim(e.replace(/[,.']/g,"")))},this.clearTableBody=function(e){$.browser.msie?function(){for(;this.firstChild;)this.removeChild(this.firstChild)}.apply(e.tBodies[0]):e.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(e){return!0},format:function(e){return $.trim(e.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(e,t){var n=t.config;return $.tablesorter.isDigit(e,n)},format:function(e){return $.tablesorter.formatFloat(e)},type:"numeric"}),ts.addParser({id:"currency",is:function(e){return/^[£$€?.]/.test(e)},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/[£$€]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(e){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(e)},format:function(e){for(var t=e.split("."),n="",r=t.length,o=0;r>o;o++){var i=t[o];n+=2==i.length?"0"+i:i}return $.tablesorter.formatFloat(n)},type:"numeric"}),ts.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\/$/.test(e)},format:function(e){return jQuery.trim(e.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},format:function(e){return $.tablesorter.formatFloat(""!=e?new Date(e.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(e){return/\%$/.test($.trim(e))},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(e){return e.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(e){return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(e){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(e)},format:function(e,t){var n=t.config;return e=e.replace(/\-/g,"/"),"us"==n.dateFormat?e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):"uk"==n.dateFormat?e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):("dd/mm/yy"==n.dateFormat||"dd-mm-yy"==n.dateFormat)&&(e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(e){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(e)},format:function(e){return $.tablesorter.formatFloat(new Date("2000/01/01 "+e).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(e){return!1},format:function(e,t,n){var r=t.config,o=r.parserMetadataName?r.parserMetadataName:"sortValue";return $(n).metadata()[o]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(e){if(e.config.debug)var t=new Date;var n,r,o=-1;$("tr:visible",e.tBodies[0]).each(function(t){(n=$(this)).hasClass(e.config.cssChildRow)||o++,r=o%2==0,n.removeClass(e.config.widgetZebra.css[r?0:1]).addClass(e.config.widgetZebra.css[r?1:0])}),e.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",t)}})}(jQuery),function(e){"use strict";function t(e,n){if(!(this instanceof t)){var r=new t(e,n);return r.open(),r}this.id=t.id++,this.setup(e,n),this.chainCallbacks(t._callbackChain)}if(void 0!==e){var n=[],r=function(t){return n=e.grep(n,function(e){return e!==t&&e.$instance.closest("body").length>0})},o={keyup:"onKeyUp",resize:"onResize"},i=function(n){e.each(t.opened().reverse(),function(){return n.isDefaultPrevented()||!1!==this[o[n.type]](n)?void 0:(n.preventDefault(),n.stopPropagation(),!1)})},s=function(n){if(n!==t._globalHandlerInstalled){t._globalHandlerInstalled=n;var r=e.map(o,function(e,n){return n+"."+t.prototype.namespace}).join(" ");e(window)[n?"on":"off"](r,i)}};t.prototype={constructor:t,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",otherClose:null,beforeOpen:e.noop,beforeContent:e.noop,beforeClose:e.noop,afterOpen:e.noop,afterContent:e.noop,afterClose:e.noop,onKeyUp:e.noop,onResize:e.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(t,n){"object"!=typeof t||t instanceof e!=0||n||(n=t,t=void 0);var r=e.extend(this,n,{target:t}),o=r.resetCss?r.namespace+"-reset":r.namespace,i=e(r.background||['<div class="'+o+"-loading "+o+'">','<div class="'+o+'-content">','<span class="'+o+"-close-icon "+r.namespace+'-close">',r.closeIcon,"</span>",'<div class="'+r.namespace+'-inner">'+r.loading+"</div>","</div>","</div>"].join("")),s="."+r.namespace+"-close"+(r.otherClose?","+r.otherClose:"");return r.$instance=i.clone().addClass(r.variant),r.$instance.on(r.closeTrigger+"."+r.namespace,function(t){var n=e(t.target);("background"===r.closeOnClick&&n.is("."+r.namespace)||"anywhere"===r.closeOnClick||n.closest(s).length)&&(t.preventDefault(),r.close())}),this},getContent:function(){var t=this,n=this.constructor.contentFilters,r=function(e){return t.$currentTarget&&t.$currentTarget.attr(e)},o=r(t.targetAttr),i=t.target||o||"",s=n[t.type];if(!s&&i in n&&(s=n[i],i=t.target&&o),i=i||r("href")||"",!s)for(var a in n)t[a]&&(s=n[a],i=t[a]);if(!s){var c=i;if(i=null,e.each(t.contentFilters,function(){return(s=n[this]).test&&(i=s.test(c)),!i&&s.regex&&c.match&&c.match(s.regex)&&(i=c),!i}),!i)return"console"in window&&window.console.error("Featherlight: no content filter found "+(c?' for "'+c+'"':" (no target specified)")),!1}return s.process.call(t,i)},setContent:function(t){var n=this;return(t.is("iframe")||e("iframe",t).length>0)&&n.$instance.addClass(n.namespace+"-iframe"),n.$instance.removeClass(n.namespace+"-loading"),n.$instance.find("."+n.namespace+"-inner").slice(1).remove().end().replaceWith(e.contains(n.$instance[0],t[0])?"":t),n.$content=t.addClass(n.namespace+"-inner"),n},open:function(t){var r=this;if(!(t&&t.isDefaultPrevented()||!1===r.beforeOpen(t))){t&&t.preventDefault();var o=r.getContent();if(o)return n.push(r),s(!0),r.$instance.appendTo(r.root).fadeIn(r.openSpeed),r.beforeContent(t),e.when(o).always(function(n){r.setContent(n),r.afterContent(t),e.when(r.$instance.promise()).done(function(){r.afterOpen(t)})}),r}return!1},close:function(e){var t=this;return!1!==t.beforeClose(e)&&(0===r(t).length&&s(!1),void t.$instance.fadeOut(t.closeSpeed,function(){t.$instance.detach(),t.afterClose(e)}))},chainCallbacks:function(t){for(var n in t)this[n]=e.proxy(t[n],this,e.proxy(this[n],this))}},e.extend(t,{id:0,autoBind:"[data-featherlight]",defaults:t.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(t){return t instanceof e&&t},process:function(t){return e(t).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp)(\?\S*)?$/i,process:function(t){var n=e.Deferred(),r=new Image,o=e('<img src="'+t+'" alt="" class="'+this.namespace+'-image" />');return r.onload=function(){o.naturalWidth=r.width,o.naturalHeight=r.height,n.resolve(o)},r.onerror=function(){n.reject(o)},r.src=t,n.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(t){return e(t)}},ajax:{regex:/./,process:function(t){var n=e.Deferred(),r=e("<div></div>").load(t,function(e,t){"error"!==t&&n.resolve(r.contents()),n.fail()});return n.promise()}},iframe:{process:function(t){var n=new e.Deferred,r=e("<iframe/>").hide().attr("src",t).css(function(e,t){var n={},r=new RegExp("^"+t+"([A-Z])(.*)");for(var o in e){var i=o.match(r);i&&(n[(i[1]+i[2].replace(/([A-Z])/g,"-$1")).toLowerCase()]=e[o])}return n}(this,"iframe")).on("load",function(){n.resolve(r.show())}).appendTo(this.$instance.find("."+this.namespace+"-content"));return n.promise()}},text:{process:function(t){return e("<div>",{text:t})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(t){var n=this,r={};return t&&t.attributes&&e.each(t.attributes,function(){var t=this.name.match(/^data-featherlight-(.*)/);if(t){var o=this.value,i=e.camelCase(t[1]);if(e.inArray(i,n.functionAttributes)>=0)o=new Function(o);else try{o=e.parseJSON(o)}catch(e){}r[i]=o}}),r},extend:function(t,n){var r=function(){this.constructor=t};return r.prototype=this.prototype,t.prototype=new r,t.__super__=this.prototype,e.extend(t,this,n),t.defaults=t.prototype,t},attach:function(t,n,r){var o=this;"object"!=typeof n||n instanceof e!=0||r||(r=n,n=void 0),r=e.extend({},r);var i=e.extend({},o.defaults,o.readElementConfig(t[0]),r);return t.on(i.openTrigger+"."+i.namespace,i.filter,function(i){var s=e.extend({$source:t,$currentTarget:e(this)},o.readElementConfig(t[0]),o.readElementConfig(this),r);new o(n,s).open(i)}),t},current:function(){var e=this.opened();return e[e.length-1]||null},opened:function(){var t=this;return r(),e.grep(n,function(e){return e instanceof t})},close:function(){var e=this.current();e&&e.close()},_onReady:function(){var t=this;t.autoBind&&(t.attach(e(document),{filter:t.autoBind}),e(t.autoBind).filter("[data-featherlight-filter]").each(function(){t.attach(e(this))}))},_callbackChain:{onKeyUp:function(e,t){return 27===t.keyCode?(this.closeOnEsc&&this.$instance.find("."+this.namespace+"-close:first").click(),!1):e(t)},onResize:function(e,t){if(this.$content.naturalWidth){var n=this.$content.naturalWidth,r=this.$content.naturalHeight;this.$content.css("width","").css("height","");var o=Math.max(n/parseInt(this.$content.parent().css("width"),10),r/parseInt(this.$content.parent().css("height"),10));o>1&&this.$content.css("width",n/o+"px").css("height",r/o+"px")}return e(t)},afterContent:function(e,t){var n=e(t);return this.onResize(t),n}}}),e.featherlight=t,e.fn.featherlight=function(e,n){return t.attach(this,e,n)},e(document).ready(function(){t._onReady()})}else"console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery.")}(jQuery),function(e){"use strict";function t(n,r){if(!(this instanceof t)){var o=new t(e.extend({$source:n,$currentTarget:n.first()},r));return o.open(),o}e.featherlight.apply(this,arguments),this.chainCallbacks(a)}var n=function(e){window.console&&window.console.warn&&window.console.warn("FeatherlightGallery: "+e)};if(void 0===e)return n("Too much lightness, Featherlight needs jQuery.");if(!e.featherlight)return n("Load the featherlight plugin before the gallery plugin");var r="ontouchstart"in document.documentElement,o=e.event&&e.event.special.swipeleft&&e,i=window.Hammer&&function(e){var t=new window.Hammer.Manager(e[0]);return t.add(new window.Hammer.Swipe),t},s=r&&(o||i);r&&!s&&n("No compatible swipe library detected; one must be included before featherlightGallery for swipe motions to navigate the galleries.");var a={afterClose:function(e,t){var n=this;return n.$instance.off("next."+n.namespace+" previous."+n.namespace),n._swiper&&(n._swiper.off("swipeleft",n._swipeleft).off("swiperight",n._swiperight),n._swiper=null),e(t)},beforeOpen:function(e,t){var n=this;return n.$instance.on("next."+n.namespace+" previous."+n.namespace,function(e){var t="next"===e.type?1:-1;n.navigateTo(n.currentNavigation()+t)}),s?n._swiper=s(n.$instance).on("swipeleft",n._swipeleft=function(){n.$instance.trigger("next")}).on("swiperight",n._swiperight=function(){n.$instance.trigger("previous")}):n.$instance.find("."+n.namespace+"-content").append(n.createNavigation("previous")).append(n.createNavigation("next")),e(t)},onKeyUp:function(e,t){var n={37:"previous",39:"next"}[t.keyCode];return n?(this.$instance.trigger(n),!1):e(t)}};e.featherlight.extend(t,{autoBind:"[data-featherlight-gallery]"}),e.extend(t.prototype,{previousIcon:"&#9664;",nextIcon:"&#9654;",galleryFadeIn:100,galleryFadeOut:300,images:function(){return this.filter?this.$source.find(this.filter):this.$source},currentNavigation:function(){return this.images().index(this.$currentTarget)},navigateTo:function(t){var n=this,r=n.images(),o=r.length,i=n.$instance.find("."+n.namespace+"-inner");return t=(t%o+o)%o,n.$currentTarget=r.eq(t),n.beforeContent(),e.when(n.getContent(),i.fadeTo(n.galleryFadeOut,.2)).always(function(e){n.setContent(e),n.afterContent(),e.fadeTo(n.galleryFadeIn,1)})},createNavigation:function(t){var n=this;return e('<span title="'+t+'" class="'+this.namespace+"-"+t+'"><span>'+this[t+"Icon"]+"</span></span>").click(function(){e(this).trigger(t+"."+n.namespace)})}}),e.featherlightGallery=t,e.fn.featherlightGallery=function(e){return t.attach(this,e)},e(document).ready(function(){t._onReady()})}(jQuery);